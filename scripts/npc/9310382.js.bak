/*
 脚本功能：道具兑换
 */
 
var ItemNeedId = 4000464;
var selects;
var ItemArray = Array(
Array(2430054, 100), //男男机车 30天
Array(2430055, 100),  //女女机车 30天
Array(2430057, 100),  //赛车 30天
Array(2430072, 100), //老虎传说 7天
Array(2430092, 100), //白雪人 7天
Array(2430293, 100), //坐骑 飞船 永久
Array(2430294, 100), //飞船 90天
Array(2430295, 100), //坐骑 天马 永久
Array92430296, 300), //坐骑 天马 90天
Array(2430297, 300), //坐骑 暗光龙 永久
Array(2430298, 300), //暗光龙 90天
Array(2430299, 500), //坐骑 魔法扫帚 永久
Array(2430300, 500), //魔法扫帚 90
Array(2430301, 500), //坐骑 筋斗云 永久
Array(2430302, 500), //坐骑 筋斗云 90天
Array(2430303, 500), //坐骑 骑士团战车 永久
Array(2430304, 500), //骑士团战车 90天
Array(2430305, 500), //坐骑 梦魇 永久
Array(2430306, 500), //梦魇 90天
Array(2430307, 500), //坐骑 蝙蝠怪 永久
Array(2430308, 500), //蝙蝠怪 90天
Array(2430309, 500), //坐骑 透明蝙蝠怪 永久
Array(2430310, 500), //透明蝙蝠怪 90天
Array(2430311, 500), //坐骑 猫头鹰 永久
Array(2430312, 500), //猫头鹰 90天
Array(2430313, 500), //坐骑 直升机 永久
Array(2430314, 500), //直升机 90天
Array(2430315, 500), //坐骑 妮娜的魔法阵 永久
Array(2430316, 500), //妮娜的魔法阵 90天
Array(2430317, 500), //坐骑 青蛙 永久
Array(2430318, 500), //青蛙90天交换券
Array(2430319, 500), //小龟龟 永久
Array(2430320, 500), //月小龟龟 90天
Array(2430321, 500), //无辜水牛 永久
Array(2430324, 500), //坐骑 机动巡逻车 永久
Array(2430325, 500), //坐骑 维京战车 永久
Array(2430326, 500), //维京战车 90天
Array(2430327, 500), //打豆豆机器人 永久
Array(2430328, 500), //打豆豆机器人 90天
Array(2430329, 500), //暴风摩托 永久
Array(2430330, 500), //暴风摩托 90天
Array(2430331, 500), //玩具木马 永久
Array(2430332, 500), //玩具木马 90天
Array(2430333, 500), //老虎只是传说 永久
Array(2430334, 500), //老虎只是传说 90天
Array(2430335, 500), //坐骑 莱格斯的豺犬 永久
Array(2430336, 500), //莱格斯的豺犬 90天
Array(2430337, 500), //坐骑 鸵鸟 永久
Array(2430338, 500), //鸵鸟 90天
Array(2430339, 500), //坐骑 跑车 永久
Array(2430340, 500), //跑车 90天
Array(2430341, 500), //拿破仑的白马 永久
Array(2430342, 500), //拿破仑的白马 90天
Array(2430343, 500), //坐骑 鳄鱼王 永久
Array(2430344, 500) //鳄鱼王 90天

//以下为不可使用的
/*
Array(2432350, 10), //白魔法师和雪原骑宠1天交换券
Array(2430992, 50),  //藏獒骑宠7天使用券
Array(2430707, 50),  //好朋友坐骑7天使用券
Array(2430993, 100), //藏獒骑宠30天使用券
Array(2430521, 100), //小兔子骑宠30天使用券
Array(2431914, 100), //小兔子骑宠30天使用券
Array(2432328, 100), //Naver帽子骑宠30天使用券
Array(2432099, 100), //巨大公鸡骑宠30天券
Array92431950, 300), //巨大公鸡骑宠90天券
Array(2430994, 300), //藏獒骑宠90天使用券
Array(2432029, 300), //老式战船骑宠90天券
Array(2432497, 500), //赤兔马骑宠永久使用券
Array(2430464, 500), //国庆纪念版热气球永久权
Array(2432735, 500), //熊猫骑宠永久券
Array(2432733, 500), //雄鹰！骑宠永久券
Array(2432487, 500), //LV骑宠永久券 
Array(2432496, 500), //舞狮骑宠永久使用权
Array(2432518, 500), //幽灵马车骑宠永久使用券
Array(2430534, 500), //企鹅永久权使用券
Array(2430938, 500), //红色皮卡永久使用券
Array(2430939, 500), //双强力滑车骑宠永久使用券
Array(2430968, 500), //双粉红飞马永久使用券
Array(2431137, 500), //幻龙骑宠永久使用券
Array(2431073, 500), //二连跳青蛙永久使用券
Array(2431135, 500), //与你相伴幻影骑宠永久使用券
Array(2431136, 500), //与你相伴阿莉亚骑宠永久使用券
Array(2431268, 500), //玛瑙美洲豹永久使用券
Array(2431353, 500), //黑飞龙骑宠永久使用券
Array(2431362, 500), //礼物雪球永久使用券
Array(2431423, 500), //天空自行车骑宠永久使用券
Array(2431424, 500), //雪花骑宠永久使用券
Array(2431425, 500), //乌云骑宠永久使用券
Array(2431426, 500), //月亮骑宠永久使用券
Array(2431473, 500), //和品克缤一起旅行骑宠永久使用券
Array(2431474, 500), //和布莱克缤一起旅行骑宠永久使用券
Array(2434377, 500), //不想长大！骑宠永久使用券
Array(2434379, 500), //骑士团花轿骑宠永久使用券
Array(2434277, 500), //极光鹿骑宠永久使用券
Array(2432172, 500), //兔兔赏月骑宠永久使用券
Array(2432992, 500), //蜜蝴蝶骑宠永久使用券
Array(2433069, 500), //迷你太空船永久使用券
Array(2432806, 500), //官轿骑宠永久券
Array(2432994, 500), //希望敞篷车骑宠
Array(2432995, 500), //后起跑车骑宠
Array(2432996, 500), //梦幻跑车骑宠
Array(2432997, 500), //新手滑板骑宠
Array(2432998, 500), //初级滑板骑宠
Array(2432999, 500), //普通滑板骑宠
Array(2433000, 500), //高级滑板骑宠
Array(2433001, 500), //精英滑板骑宠
Array(2433002, 500), //传说滑板骑宠
Array(2433003, 500), //闪耀气球骑宠
Array(2433051, 500), //猫咪手推车骑宠永久
Array(2433053, 500), //喷气式滑艇骑宠永久
Array(2431898, 500), //弹跳车骑宠永久券
Array(2431915, 500), //鸟叔邮递员永久使用券
Array(2432003, 500), //战斗飞艇骑宠使用券
Array(2432007, 500), //海加顿之拳骑宠使用券
Array(2432030, 500), //石像鬼骑宠永久券
Array(2432031, 500), //好友骑宠永久券
Array(2432078, 500), //地狱犬骑宠永久券
Array(2432085, 500), //海豚骑宠永久券
Array(2431883, 500), //沙云骑宠永久使用券
Array(2431765, 500), //摇摇木马骑宠券
Array(2432015, 500), //赤红沙云骑宠永久使用券
Array(2432149, 500), //稻香四溢骑宠永久使用券
Array(2432151, 500), //飞行床骑宠永久券
Array(2432309, 500), //吉尼骑宠永久使用券
Array(2432216, 500), //僵尸卡车永久券
Array(2432218, 500), //妮娜的魔法阵骑宠永久券
Array(2432291, 500), //滑板永久使用券
Array(2432293, 500), //南瓜马车永久使用券
Array(2432295, 500), //贝伦骑宠永久使用券
Array(2432347, 500), //南哈特和雪原永久骑宠交换券
Array(2432348, 500), //希纳斯和雪原永久骑宠交换券
Array(2432349, 500), //奥尔卡和雪原永久骑宠交换券
Array(2432351, 500), //希拉和雪原永久骑宠交换券
Array(2432431, 500), //龙骑士骑宠永久使用券
Array(2432433, 500), //魔法扫帚骑宠永久使用券
Array(2432449, 500), //飞鞋骑宠永久使用券
Array(2432582, 500), //迟到了！骑宠永久使用券
Array(2432498, 500), //蓝焰梦魇骑宠永久使用券
Array(2432500, 500), //新年快乐骑宠永久使用券
Array(2432645, 500), //毛驴骑宠永久券
Array(2432653, 500), //舞动的向日葵骑宠
Array(2434127, 500), //菇菇有点肿骑宠永久券
Array(2433499, 500), //奥尔卡之搀扶永久券
Array(2433501, 500), //赫丽娜之搀扶永久券
Array(2433735, 500), //飞翔青羊骑宠永久券
Array(2433736, 500), //飞翔粉羊骑宠永久券
Array(2433809, 500), //拉拉喵骑宠永久券
Array(2433811, 500), //草莓蛋糕骑宠永久券
Array(2433292, 500), //蛋糕骑宠永久使用券
Array(2433293, 500), //驯鹿雪橇骑宠永久使用券
Array(2433497, 500), //美羊羊骑宠永久交换券
Array(2433511, 500), //喜羊羊骑宠永久交换券
Array(2434084, 500), //黑色天使骑宠永久交换券
Array(2434142, 500), //盖奥勒克骑宠使用券
Array(2434143, 500), //粉碎机骑宠使用券
Array(2434235, 500), //变身云朵骑宠
Array(2434236, 500), //呆萌鲸鱼骑宠
Array(2434037, 500), //迷你黑色天堂骑宠券
Array(2433836, 500), //拯救骑宠
Array(2433058, 500), //永久性喷气式滑艇载具优惠券
Array(2433059, 500), //永久性潜水艇载具优惠券
Array(2433060, 500), //永久性直升机载具优惠券
Array(2433168, 500), //永久性热气球载具优惠券
Array(2433169, 500), //永久性独木舟载具优惠券
Array(2433170, 500), //永久性迷你直升机载具优惠券
Array(2433198, 500), //永久性猫咪海盗船载具优惠券
Array(2433881, 500), //橄榄球兔骑宠
Array(2434082, 500), //金鱼出租车骑宠永久交换券
Array(2434083, 500) //金龙鱼骑宠永久使用券
*/


);
var itemQuantity;
var itemid;
var pass = true;
 
function start() {
    a = -1;
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == -1) {
        cm.dispose();
    } else {
        if (mode == 1)
            a++;
        else
            a--;
        if (a == -1) {
            cm.dispose();
        } else if (a == 0) {
			var text = "#r[GM提示您]：#b您当前的#z4000464#为： #r" + cm.getItemQuantity(4000464) + " #b个\r\n";
			for (var i = 0 ; i < ItemArray.length;i++){
				text += "#L"+i+"# #i"+ItemArray[i][0]+"#  #z"+ItemArray[i][0]+"# #k( 需要 #r"+ItemArray[i][1]+"#k 个)\r\n"
			}
			cm.sendSimple(text);
		}else if (a == 1){
			selects = selection;
			itemQuantity = ItemArray[selects][1];
			itemid = ItemArray[selects][0];
			cm.sendYesNo("你确定要使用"+itemQuantity+"个#t"+ItemNeedId+"#来兑换#t"+itemid+"#吗？");
		}else if (a == 2){
			for (var i = 1 ; i < 5 ;i++){
				if (cm.getSpace(i) <1){
					pass = false;
				}
			}
			if (pass){
			if (cm.haveItem(ItemNeedId,itemQuantity)){
				cm.gainItem(itemid,1);
				cm.gainItem(ItemNeedId,-itemQuantity);
				cm.sendOk("兑换成功了！");
			}else{
				cm.sendOk("对不起，你没有足够的#t"+ItemNeedId+"#");
			}
			
			}else{
				cm.sendOk("对不起，背包装备栏位已满,请清理。\r\n -#r请让所有的背包栏目腾出一格。")
			}
			cm.dispose();
		}
	}
}